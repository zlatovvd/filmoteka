!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return a[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},t.parcelRequired7c6=i);var r=i("bpxeT"),s=i("2TvXO"),o=i("6nMcK"),c=i("3ohwy"),l=i("8MBJY"),u=i("a2hTj"),g=i("hKHmD"),d=function(){"use strict";function t(){e(l)(this,t),e(g)(this,"data",[]),e(g)(this,"page",1),e(g)(this,"perPage",4),e(g)(this,"totalPages",1)}return e(u)(t,[{key:"getData",value:function(e){return this.data=window.localStorage.getItem(e)?JSON.parse(window.localStorage.getItem(e)):[],this.totalPages=Math.ceil(this.data.length/this.perPage),{result:this.data.slice(this.startElement(),this.endElement()),totalPages:this.totalPages,perPage:this.perPage,currentPage:this.page}}},{key:"incrementPage",value:function(){this.page+=1}},{key:"decrementPage",value:function(){this.page-=1}},{key:"setPage",value:function(e){this.page=e}},{key:"getPage",value:function(){return this.page}},{key:"startElement",value:function(){return this.page*this.perPage-this.perPage}},{key:"endElement",value:function(){var e=this.startElement()+this.perPage;return console.log("length",this.data.length),this.startElement()+this.perPage>this.data.length&&(e=this.data.length),e}}]),t}(),p=null,h="watched",f=new(0,o.movieApi),m=new(0,c.Pagination),v=new d,w={filmotekaList:document.querySelector(".filmoteka-list"),btns:document.querySelector(".library-btn-wrapper"),watchedBtn:document.querySelector(".watched-btn"),paginationList:document.querySelector(".pagination-list")};w.paginationList.addEventListener("click",(function(e){e.preventDefault(),e.target.classList.contains("pagination-link")&&(e.target.classList.contains("page-right")?v.incrementPage():e.target.classList.contains("page-left")?v.decrementPage():v.setPage(Number(e.target.innerText)),k())})),w.btns.addEventListener("click",(function(e){w.watchedBtn.classList.remove("active"),e.target.classList.contains("queue-btn")?h="queue":e.target.classList.contains("watched-btn")&&(h="watched");v.setPage(1),k()}));var P,k=(P=e(r)(e(s).mark((function t(){var a,n,i,r,o;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p){e.next=10;break}return e.prev=1,e.next=4,f.loadGenre();case 4:p=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(error);case 10:a=v.getData(h),n=a.result,i=a.totalPages,r=a.perPage,o=a.currentPage,w.filmotekaList.innerHTML=y(n),console.log("total",i),w.paginationList.innerHTML=i>1?m.creatPagination(o,r,i):"";case 14:case"end":return e.stop()}}),t,null,[[1,7]])}))),function(){return P.apply(this,arguments)});var y=function(e){return e.map((function(e){return'<li class="filmoteka-item" data-id="'.concat(e.id,'">\n            <a href=">\n              <div class="filmoteka-thumb">\n                  <img class="filmoteka-img" src="').concat("https://image.tmdb.org/t/p/w500").concat(e.poster_path,'" alt="').concat(e.overview,'" />\n              </div>\n            </a>\n            <h2 class="filmoteka-title">').concat(e.title.toUpperCase(),'</h2>\n            <p class="filmoteka-discription">').concat((t=e.genre_ids,t.map((function(e){return p.find((function(t){return t.id==e})).name})).join(", "))," | ").concat(new Date(e.release_date).getFullYear(),"</p>\n          </li>");var t})).join("")};k()}();
//# sourceMappingURL=library.34d65032.js.map
