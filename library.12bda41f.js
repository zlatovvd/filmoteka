function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},n={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in a)return a[e].exports;if(e in n){var t=n[e];delete n[e];var i={id:e,exports:{}};return a[e]=i,t.call(i.exports,i,i.exports),i.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){n[e]=t},t.parcelRequired7c6=i);var s=i("4zW3v"),r=i("9CxTh"),l=i("iJYdK");let o=null,c="watched";const g=new(0,s.movieApi),d=new(0,r.Pagination),h=new class{getData(e){return this.data=window.localStorage.getItem(e)?JSON.parse(window.localStorage.getItem(e)):[],this.totalPages=Math.ceil(this.data.length/this.perPage),{result:this.data.slice(this.startElement(),this.endElement()),totalPages:this.totalPages,perPage:this.perPage,currentPage:this.page}}incrementPage(){this.page+=1}decrementPage(){this.page-=1}setPage(e){this.page=e}getPage(){return this.page}startElement(){return this.page*this.perPage-this.perPage}endElement(){let e=this.startElement()+this.perPage;return console.log("length",this.data.length),this.startElement()+this.perPage>this.data.length&&(e=this.data.length),e}constructor(){e(l)(this,"data",[]),e(l)(this,"page",1),e(l)(this,"perPage",4),e(l)(this,"totalPages",1)}},p={filmotekaList:document.querySelector(".filmoteka-list"),btns:document.querySelector(".library-btn-wrapper"),watchedBtn:document.querySelector(".watched-btn"),paginationList:document.querySelector(".pagination-list")};p.paginationList.addEventListener("click",(function(e){e.preventDefault(),e.target.classList.contains("pagination-link")&&(e.target.classList.contains("page-right")?h.incrementPage():e.target.classList.contains("page-left")?h.decrementPage():h.setPage(Number(e.target.innerText)),u())})),p.btns.addEventListener("click",(function(e){p.watchedBtn.classList.remove("active"),e.target.classList.contains("queue-btn")?c="queue":e.target.classList.contains("watched-btn")&&(c="watched");h.setPage(1),u()}));const u=async()=>{if(!o)try{o=await g.loadGenre()}catch{console.error(error)}const{result:e,totalPages:t,perPage:a,currentPage:n}=h.getData(c);p.filmotekaList.innerHTML=m(e),console.log("total",t),p.paginationList.innerHTML=t>1?d.creatPagination(n,a,t):""};const m=e=>e.map((e=>{return`<li class="filmoteka-item" data-id="${e.id}">\n            <a href=">\n              <div class="filmoteka-thumb">\n                  <img class="filmoteka-img" src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.overview}" />\n              </div>\n            </a>\n            <h2 class="filmoteka-title">${e.title.toUpperCase()}</h2>\n            <p class="filmoteka-discription">${t=e.genre_ids,t.map((e=>o.find((t=>t.id==e)).name)).join(", ")} | ${new Date(e.release_date).getFullYear()}</p>\n          </li>`;var t})).join("");u();
//# sourceMappingURL=library.12bda41f.js.map
